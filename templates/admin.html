<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ê–¥–º–∏–Ω–∫–∞ </title>
    <style>
        body {
            background: #0a0a15;
            color: #e0e0ff;
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(18, 18, 37, 0.95);
            border: 2px solid #00ffff;
            padding: 30px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }
        h1 {
            color: #00ffff;
            text-align: center;
            text-shadow: 0 0 10px #00ffff;
            border-bottom: 2px solid #00ffff;
            padding-bottom: 10px;
        }
        .task-group {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #00ffff;
            padding: 20px;
            margin: 20px 0;
        }
        .task-row {
            display: flex;
            margin: 10px 0;
            gap: 10px;
        }
        input, select {
            flex: 1;
            padding: 10px;
            background: #121225;
            color: white;
            border: 1px solid #00ffff;
            font-family: 'Courier New', monospace;
        }
        button {
            background: #0066cc;
            color: white;
            border: 1px solid #00ffff;
            padding: 10px 20px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
        }
        button:hover {
            background: #00ffff;
            color: black;
        }
        .user-info {
            text-align: right;
            color: #00ff00;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="user-info">
            üë§ {{ session.username }} ({{ session.role }}) |
            <a href="/logout" style="color: #ff4444;">–í—ã–π—Ç–∏</a> |
            <a href="/" style="color: #00ffff;">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
        </div>

        <h1>‚öôÔ∏è –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø</h1>

        <form method="POST" action="/admin/save">
            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ -->
            <div class="task-group">
                <h3>üìù –û–°–ù–û–í–ù–´–ï –ó–ê–î–ê–ù–ò–Ø</h3>
                {% for btn_name, btn_label in [('button1', '–ö–Ω–æ–ø–∫–∞ 1'), ('button2', '–ö–Ω–æ–ø–∫–∞ 2'), ('button3', '–ö–Ω–æ–ø–∫–∞ 3')] %}
                <h4>{{ btn_label }}</h4>
                {% for task in tasks[btn_name] %}
                <div class="task-row">
                    <input type="text" name="{{ btn_name }}[]" value="{{ task }}" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ">
                </div>
                {% endfor %}
                <div class="task-row">
                    <input type="text" name="{{ btn_name }}[]" placeholder="–ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ">
                </div>
                {% endfor %}
            </div>

            <!-- –î–æ—Å–∫–∞ –∑–∞–¥–∞–Ω–∏–π -->
            <div class="task-group">
                <h3>üìã –î–û–°–ö–ê –ó–ê–î–ê–ù–ò–ô</h3>
                <div id="board-tasks">
                    <div class="task-row">
                        <input type="text" name="board_tasks[]" placeholder="–¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è">
                        <select name="board_difficulties[]">
                            <option value="–ª—ë–≥–∫–∞—è">–õ—ë–≥–∫–∞—è</option>
                            <option value="—Å—Ä–µ–¥–Ω—è—è" selected>–°—Ä–µ–¥–Ω—è—è</option>
                            <option value="—Å–ª–æ–∂–Ω–∞—è">–°–ª–æ–∂–Ω–∞—è</option>
                        </select>
                    </div>
                </div>
                <button type="button" onclick="addBoardTask()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –¥–æ—Å–∫—É</button>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button type="submit" style="background: #00ff00; color: black; padding: 15px 30px; font-size: 1.2em;">
                    üíæ –°–û–•–†–ê–ù–ò–¢–¨ –í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø
                </button>
            </div>
        </form>
    </div>

    <script>
        function addBoardTask() {
            const container = document.getElementById('board-tasks');
            const newRow = document.createElement('div');
            newRow.className = 'task-row';
            newRow.innerHTML = `
                <input type="text" name="board_tasks[]" placeholder="–¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è">
                <select name="board_difficulties[]">
                    <option value="–ª—ë–≥–∫–∞—è">–õ—ë–≥–∫–∞—è</option>
                    <option value="—Å—Ä–µ–¥–Ω—è—è" selected>–°—Ä–µ–¥–Ω—è—è</option>
                    <option value="—Å–ª–æ–∂–Ω–∞—è">–°–ª–æ–∂–Ω–∞—è</option>
                </select>
                <button type="button" onclick="this.parentElement.remove()">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
            `;
            container.appendChild(newRow);
        }
    </script>
</body>
</html>
