<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥ - RGG QUEST</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîê</text></svg>">
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <div class="mobile-menu-toggle" onclick="toggleSidebar()">
        <span>‚ò∞</span>
        <span>–ú–µ–Ω—é</span>
    </div>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay" onclick="toggleSidebar()"></div>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">RGG QUEST</div>
                <div class="sidebar-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</div>
            </div>

            <nav class="sidebar-nav">
                <!-- –û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <div class="sidebar-section">
                    <div class="sidebar-section-title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
                    <a href="/" class="sidebar-link">
                        <span class="sidebar-link-icon">üìã</span>
                        <span class="sidebar-link-text">–ì–ª–∞–≤–Ω–∞—è</span>
                    </a>
                    <a href="/map" class="sidebar-link">
                        <span class="sidebar-link-icon">üó∫Ô∏è</span>
                        <span class="sidebar-link-text">–ö–∞—Ä—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</span>
                    </a>
                    <a href="/archive" class="sidebar-link">
                        <span class="sidebar-link-icon">üìö</span>
                        <span class="sidebar-link-text">–ê—Ä—Ö–∏–≤ –∑–∞–¥–∞—á</span>
                    </a>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-section-title">–ê–∫–∫–∞—É–Ω—Ç</div>
                    <a href="/login" class="sidebar-link active">
                        <span class="sidebar-link-icon">üîê</span>
                        <span class="sidebar-link-text">–í—Ö–æ–¥</span>
                    </a>
                    <a href="/register" class="sidebar-link">
                        <span class="sidebar-link-icon">üë§</span>
                        <span class="sidebar-link-text">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                    </a>
                </div>
            </nav>

            <!-- User Info -->
            <div class="sidebar-user">
                <div style="text-align: center; color: var(--text-secondary); padding: 16px;">
                    <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="auth-container">
                <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å - —Ñ–æ—Ä–º–∞ -->
                <div class="auth-form-container">
                    <div class="auth-header">
                        <h1 class="title">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h1>
                        <p class="subtitle">–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç RGG QUEST</p>
                    </div>

                    <form method="POST" class="auth-form">
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                <div class="alert alert-error">
                                    {{ messages[0] }}
                                </div>
                            {% endif %}
                        {% endwith %}

                        <div class="form-group">
                            <label for="username" class="form-label">
                                <span class="form-label-icon">üë§</span>
                                –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                            </label>
                            <input type="text"
                                   id="username"
                                   name="username"
                                   class="form-input"
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à username"
                                   required
                                   autocomplete="username">
                        </div>

                        <div class="form-group">
                            <label for="password" class="form-label">
                                <span class="form-label-icon">üîí</span>
                                –ü–∞—Ä–æ–ª—å
                            </label>
                            <input type="password"
                                   id="password"
                                   name="password"
                                   class="form-input"
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å"
                                   required
                                   autocomplete="current-password">
                        </div>

                        <div class="form-options">
                            <label class="checkbox-label">
                                <input type="checkbox" name="remember" class="checkbox">
                                <span class="checkmark"></span>
                                –ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è
                            </label>
                        </div>

                        <button type="submit" class="btn btn-primary auth-submit">
                            <span class="btn-icon">üöÄ</span>
                            –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
                        </button>

                        <div class="auth-links">
                            <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="/register" class="auth-link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                        </div>
                    </form>

                    <!-- –î–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç—ã -->
                    <div class="demo-accounts">
                        <div class="demo-header">
                            <span class="demo-icon">üí°</span>
                            <span>–î–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</span>
                        </div>
                        <div class="demo-list">
                            <div class="demo-account">
                                <strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1:</strong> user1 / pass1
                            </div>
                            <div class="demo-account">
                                <strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 2:</strong> user2 / pass2
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è -->
                <div class="auth-hero">
                    <div class="hero-content">
                        <div class="hero-icon">üéØ</div>
                        <h2 class="hero-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ!</h2>
                        <p class="hero-text">
                            –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ –≤–∞—à–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –º–∏—Ä—É –∑–Ω–∞–Ω–∏–π.
                            –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å, –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞—á–∏ –∏ –¥–æ—Å—Ç–∏–≥–∞–π—Ç–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—à–∏–Ω.
                        </p>
                        <div class="hero-features">
                            <div class="feature">
                                <span class="feature-icon">üìã</span>
                                <span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üó∫Ô∏è</span>
                                <span>–ö–∞—Ä—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üèÜ</span>
                                <span>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Mobile sidebar toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');
            sidebar.classList.toggle('mobile-open');
            overlay.classList.toggle('active');
        }

        // Close sidebar when clicking on a link (mobile)
        document.querySelectorAll('.sidebar-link').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    toggleSidebar();
                }
            });
        });

        // Form handling
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('.auth-form');
            const submitBtn = form.querySelector('.auth-submit');

            form.addEventListener('submit', function(e) {
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<span class="loading-spinner"></span> –í—Ö–æ–¥...';
                submitBtn.disabled = true;

                setTimeout(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }, 2000);
            });

            // Update active link based on current page
            const currentPath = window.location.pathname;
            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>