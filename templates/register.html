<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - RGG QUEST</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üë§</text></svg>">
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <div class="mobile-menu-toggle" onclick="toggleSidebar()">
        <span>‚ò∞</span>
        <span>–ú–µ–Ω—é</span>
    </div>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay" onclick="toggleSidebar()"></div>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">RGG QUEST</div>
                <div class="sidebar-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</div>
            </div>

            <nav class="sidebar-nav">
                <!-- –û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <div class="sidebar-section">
                    <div class="sidebar-section-title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
                    <a href="/" class="sidebar-link">
                        <span class="sidebar-link-icon">üìã</span>
                        <span class="sidebar-link-text">–ì–ª–∞–≤–Ω–∞—è</span>
                    </a>
                    <a href="/map" class="sidebar-link">
                        <span class="sidebar-link-icon">üó∫Ô∏è</span>
                        <span class="sidebar-link-text">–ö–∞—Ä—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</span>
                    </a>
                    <a href="/archive" class="sidebar-link">
                        <span class="sidebar-link-icon">üìö</span>
                        <span class="sidebar-link-text">–ê—Ä—Ö–∏–≤ –∑–∞–¥–∞—á</span>
                    </a>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-section-title">–ê–∫–∫–∞—É–Ω—Ç</div>
                    <a href="/login" class="sidebar-link">
                        <span class="sidebar-link-icon">üîê</span>
                        <span class="sidebar-link-text">–í—Ö–æ–¥</span>
                    </a>
                    <a href="/register" class="sidebar-link active">
                        <span class="sidebar-link-icon">üë§</span>
                        <span class="sidebar-link-text">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                    </a>
                </div>
            </nav>

            <!-- User Info -->
            <div class="sidebar-user">
                <div style="text-align: center; color: var(--text-secondary); padding: 16px;">
                    <p>–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="auth-container">
                <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å - —Ñ–æ—Ä–º–∞ -->
                <div class="auth-form-container">
                    <div class="auth-header">
                        <h1 class="title">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h1>
                        <p class="subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ RGG QUEST</p>
                    </div>

                    <form method="POST" class="auth-form">
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                <div class="alert alert-error">
                                    {{ messages[0] }}
                                </div>
                            {% endif %}
                        {% endwith %}

                        <div class="form-group">
                            <label for="username" class="form-label">
                                <span class="form-label-icon">üë§</span>
                                –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                            </label>
                            <input type="text"
                                   id="username"
                                   name="username"
                                   class="form-input"
                                   placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ username"
                                   required
                                   autocomplete="username">
                            <div class="form-hint">
                                –û—Ç 3 –¥–æ 20 —Å–∏–º–≤–æ–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ _)
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password" class="form-label">
                                <span class="form-label-icon">üîí</span>
                                –ü–∞—Ä–æ–ª—å
                            </label>
                            <input type="password"
                                   id="password"
                                   name="password"
                                   class="form-input"
                                   placeholder="–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å"
                                   required
                                   autocomplete="new-password">
                            <div class="form-hint">
                                –ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="confirm_password" class="form-label">
                                <span class="form-label-icon">‚úÖ</span>
                                –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
                            </label>
                            <input type="password"
                                   id="confirm_password"
                                   name="confirm_password"
                                   class="form-input"
                                   placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                                   required
                                   autocomplete="new-password">
                        </div>

                        <div class="form-options">
                            <label class="checkbox-label">
                                <input type="checkbox" name="terms" class="checkbox" required>
                                <span class="checkmark"></span>
                                –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å <a href="#" class="terms-link">—É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
                            </label>
                        </div>

                        <button type="submit" class="btn btn-primary auth-submit">
                            <span class="btn-icon">üöÄ</span>
                            –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
                        </button>

                        <div class="auth-links">
                            <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="/login" class="auth-link">–í–æ–π—Ç–∏</a></p>
                        </div>
                    </form>

                    <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
                    <div class="benefits">
                        <div class="benefits-header">
                            <span class="benefits-icon">‚≠ê</span>
                            <span>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                        </div>
                        <div class="benefits-list">
                            <div class="benefit-item">
                                <span class="benefit-icon">üìä</span>
                                <span>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</span>
                            </div>
                            <div class="benefit-item">
                                <span class="benefit-icon">üó∫Ô∏è</span>
                                <span>–ö–∞—Ä—Ç–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</span>
                            </div>
                            <div class="benefit-item">
                                <span class="benefit-icon">üèÜ</span>
                                <span>–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</span>
                            </div>
                            <div class="benefit-item">
                                <span class="benefit-icon">üìà</span>
                                <span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è -->
                <div class="auth-hero">
                    <div class="hero-content">
                        <div class="hero-icon">üéØ</div>
                        <h2 class="hero-title">–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ!</h2>
                        <p class="hero-text">
                            –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É RGG QUEST –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è
                            –Ω–æ–≤—ã–π —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.
                        </p>
                        <div class="hero-features">
                            <div class="feature">
                                <span class="feature-icon">üéÆ</span>
                                <span>–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏—è</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üì±</span>
                                <span>–î–æ—Å—Ç—É–ø —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üÜì</span>
                                <span>–ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
                            </div>
                        </div>

                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="stats-preview">
                            <div class="stat-preview">
                                <div class="stat-preview-value">500+</div>
                                <div class="stat-preview-label">–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                            </div>
                            <div class="stat-preview">
                                <div class="stat-preview-value">10k+</div>
                                <div class="stat-preview-label">–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á</div>
                            </div>
                            <div class="stat-preview">
                                <div class="stat-preview-value">95%</div>
                                <div class="stat-preview-label">–¥–æ–≤–æ–ª—å–Ω—ã—Ö</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Mobile sidebar toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobileOverlay');
            sidebar.classList.toggle('mobile-open');
            overlay.classList.toggle('active');
        }

        // Close sidebar when clicking on a link (mobile)
        document.querySelectorAll('.sidebar-link').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    toggleSidebar();
                }
            });
        });

        // Form validation
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('.auth-form');
            const submitBtn = form.querySelector('.auth-submit');
            const password = document.getElementById('password');
            const confirmPassword = document.getElementById('confirm_password');

            // Password confirmation check
            function validatePasswords() {
                if (password.value !== confirmPassword.value) {
                    confirmPassword.style.borderColor = '#ef5350';
                    return false;
                } else {
                    confirmPassword.style.borderColor = 'var(--border-color)';
                    return true;
                }
            }

            confirmPassword.addEventListener('input', validatePasswords);
            password.addEventListener('input', validatePasswords);

            form.addEventListener('submit', function(e) {
                if (!validatePasswords()) {
                    e.preventDefault();
                    alert('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!');
                    return;
                }

                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<span class="loading-spinner"></span> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...';
                submitBtn.disabled = true;

                setTimeout(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }, 2000);
            });

            // Update active link based on current page
            const currentPath = window.location.pathname;
            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>